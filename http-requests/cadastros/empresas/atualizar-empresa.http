### Atualizar dados da empresa
PATCH {{baseUrl}}/cadastros/empresas/550e8400-e29b-41d4-a716-446655440000
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "nomeFantasia": "Sa칰de Total Plus",
  "telefoneFixo": "(11) 3333-5555",
  "celular": "(11) 98888-9999",
  "emailComercial": "atendimento@saudetotalplus.com.br",
  "siteEmpresa": "www.saudetotalplus.com.br",
  "nomeResponsavel": "Jo칚o Carlos Silva",
  "contatoResponsavel": "(11) 98765-1234"
}

### Expected Response
# Status: 200 OK
# {
#   "id": "550e8400-e29b-41d4-a716-446655440000",
#   "tipoEmpresa": "CONVENIOS",
#   "cnpj": "12.345.678/0001-90",
#   "nomeFantasia": "Sa칰de Total Plus",
#   "telefoneFixo": "(11) 3333-5555",
#   ...
# }

###

### Atualizar endere칞o da empresa
PATCH {{baseUrl}}/cadastros/empresas/550e8400-e29b-41d4-a716-446655440000
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "cep": "01452-000",
  "rua": "Rua dos Pinheiros",
  "numero": "900",
  "bairro": "Pinheiros",
  "complemento": "Torre A - 10췈 andar",
  "cidade": "S칚o Paulo",
  "estado": "SP"
}

###

### Atualizar dados fiscais
PATCH {{baseUrl}}/cadastros/empresas/550e8400-e29b-41d4-a716-446655440000
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "inscricaoEstadual": "987654321",
  "inscricaoMunicipal": "123456789",
  "irrfPercentual": 1.8,
  "pisPercentual": 0.75,
  "cofinsPercentual": 3.5,
  "csllPercentual": 1.2,
  "issPercentual": 5.0,
  "reterIss": true,
  "reterIr": true,
  "reterPcc": true,
  "optanteSimplesNacional": false
}

###

### Atualizar respons치vel
PATCH {{baseUrl}}/cadastros/empresas/550e8400-e29b-41d4-a716-446655440000
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "nomeResponsavel": "Maria Aparecida Santos",
  "cargoResponsavel": "Diretora de Credenciamento",
  "contatoResponsavel": "(11) 99876-5432",
  "emailResponsavel": "maria.santos@saudetotal.com.br"
}

###

### Atualizar forma de pagamento
PATCH {{baseUrl}}/cadastros/empresas/550e8400-e29b-41d4-a716-446655440000
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "formaPagamento": "PIX"
}

###

### Atualizar CNPJ (verifica칞칚o de duplicidade)
PATCH {{baseUrl}}/cadastros/empresas/550e8400-e29b-41d4-a716-446655440000
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "cnpj": "98.765.432/0001-10"
}

### Error Response - CNPJ j치 cadastrado
# Status: 409 Conflict
# {
#   "statusCode": 409,
#   "message": "CNPJ j치 cadastrado para outra empresa",
#   "error": "Conflict"
# }

###

### Error Response - Empresa n칚o encontrada
PATCH {{baseUrl}}/cadastros/empresas/999e8400-e29b-41d4-a716-446655440999
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "nomeFantasia": "Nome Novo"
}

# Status: 404 Not Found
# {
#   "statusCode": 404,
#   "message": "Empresa com ID 999e8400-e29b-41d4-a716-446655440999 n칚o encontrada",
#   "error": "Not Found"
# }

###

### ================================
### 游 ATUALIZAR COM CONTAS BANC츼RIAS
### ================================

### Adicionar/Substituir contas banc치rias da empresa
### 丘멆잺 ATEN칂츾O: Substitui TODAS as contas existentes
PATCH {{baseUrl}}/cadastros/empresas/SUBSTITUIR_PELO_ID
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "contasBancarias": [
    {
      "banco_id": "SUBSTITUIR_PELO_UUID_DO_BANCO",
      "tipo_conta": "corrente",
      "agencia": "1234",
      "digito_agencia": "5",
      "numero_conta": "12345678",
      "digito_conta": "9",
      "observacoes": "Conta principal atualizada"
    }
  ]
}

### Expected Response
# Status: 200 OK
# {
#   "id": "uuid",
#   "razaoSocial": "...",
#   "contasBancarias": [
#     {
#       "id": "uuid",
#       "banco_id": "uuid",
#       "agencia": "1234",
#       "numero_conta": "12345678",
#       "banco": {
#         "codigo": "001",
#         "nome": "Banco do Brasil"
#       }
#     }
#   ]
# }

###

### Adicionar m칰ltiplas contas banc치rias
PATCH {{baseUrl}}/cadastros/empresas/SUBSTITUIR_PELO_ID
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "contasBancarias": [
    {
      "banco_id": "SUBSTITUIR_PELO_UUID_DO_BANCO_1",
      "tipo_conta": "corrente",
      "agencia": "0001",
      "numero_conta": "11111111",
      "digito_conta": "1",
      "observacoes": "Conta principal - Banco do Brasil"
    },
    {
      "banco_id": "SUBSTITUIR_PELO_UUID_DO_BANCO_2",
      "tipo_conta": "corrente",
      "agencia": "2345",
      "numero_conta": "22222222",
      "digito_conta": "2",
      "observacoes": "Conta secund치ria - Caixa Econ칪mica"
    },
    {
      "banco_id": "SUBSTITUIR_PELO_UUID_DO_BANCO_3",
      "tipo_conta": "poupanca",
      "agencia": "3456",
      "numero_conta": "33333333",
      "digito_conta": "3",
      "observacoes": "Poupan칞a - Bradesco"
    }
  ]
}

###

### Remover todas as contas banc치rias (passar array vazio)
PATCH {{baseUrl}}/cadastros/empresas/SUBSTITUIR_PELO_ID
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "contasBancarias": []
}

### Expected Response
# Status: 200 OK
# {
#   "id": "uuid",
#   "contasBancarias": []  <- Todas removidas
# }

###

### Atualizar dados da empresa SEM alterar contas
### N칚o passar o campo contasBancarias mant칠m as contas existentes
PATCH {{baseUrl}}/cadastros/empresas/SUBSTITUIR_PELO_ID
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "nomeFantasia": "Novo Nome Fantasia",
  "telefoneFixo": "(11) 4444-5555"
}

### Expected Response
# Contas banc치rias permanecem inalteradas

###

### ================================
### 游 HELPERS - BUSCAR BANCOS
### ================================

### Obter UUID do Banco do Brasil
GET {{baseUrl}}/financeiro/bancos/codigo/001
Authorization: Bearer {{token}}

###

### Obter UUID da Caixa Econ칪mica Federal
GET {{baseUrl}}/financeiro/bancos/codigo/104
Authorization: Bearer {{token}}

###

### Obter UUID do Bradesco
GET {{baseUrl}}/financeiro/bancos/codigo/237
Authorization: Bearer {{token}}

###

### Listar todos os bancos ativos (para escolher)
GET {{baseUrl}}/financeiro/bancos/ativos?page=1&limit=50
Authorization: Bearer {{token}}