###
### ⚠️ IMPORTANTE - Configuração de Variáveis
###
### Este arquivo usa variáveis definidas em http-client.env.json:
### - {{baseUrl}} - URL base da API
### - {{token}} - Token JWT de autenticação
### - {{exameId}} - UUID do exame (para buscar por ID)
### - {{tipo_exame_id}} - UUID do tipo de exame (para filtrar)
### - {{especialidade_id}} - UUID da especialidade (para filtrar)
### - {{laboratorio_id}} - UUID do laboratório (para filtrar)
###

### ============================================
### LISTAGEM COM PAGINAÇÃO E FILTROS
### ============================================

### Listar todos os exames com paginação
GET {{baseUrl}}/exames/exames?page=1&limit=10
Authorization: Bearer {{token}}

### Expected Response
# Status: 200 OK
# {
#   "data": [...],
#   "meta": {
#     "page": 1,
#     "limit": 10,
#     "total": 50,
#     "totalPages": 5,
#     "hasPrevPage": false,
#     "hasNextPage": true
#   }
# }

###

### Buscar exames com filtro por nome
GET {{baseUrl}}/exames/exames?search=hemograma&page=1&limit=10
Authorization: Bearer {{token}}

###

### Filtrar exames por status
GET {{baseUrl}}/exames/exames?status=ativo&page=1&limit=10
Authorization: Bearer {{token}}

###

### Filtrar exames por tipo de exame
GET {{baseUrl}}/exames/exames?tipo_exame_id={{tipo_exame_id}}&page=1&limit=10
Authorization: Bearer {{token}}

###

### Filtrar exames por especialidade
GET {{baseUrl}}/exames/exames?especialidade_id={{especialidade_id}}&page=1&limit=10
Authorization: Bearer {{token}}

###

### ============================================
### FILTROS COMBINADOS (concatenados)
### ============================================

### Filtrar por tipo de exame + status
GET {{baseUrl}}/exames/exames?tipo_exame_id={{tipo_exame_id}}&status=ativo&page=1&limit=10
Authorization: Bearer {{token}}

###

### Filtrar por especialidade + status
GET {{baseUrl}}/exames/exames?especialidade_id={{especialidade_id}}&status=ativo&page=1&limit=10
Authorization: Bearer {{token}}

###

### Filtrar por tipo de exame + especialidade
GET {{baseUrl}}/exames/exames?tipo_exame_id={{tipo_exame_id}}&especialidade_id={{especialidade_id}}&page=1&limit=10
Authorization: Bearer {{token}}

###

### Filtrar por nome + tipo de exame + status
GET {{baseUrl}}/exames/exames?search=hemograma&tipo_exame_id={{tipo_exame_id}}&status=ativo&page=1&limit=10
Authorization: Bearer {{token}}

###

### Filtro completo: nome + tipo + especialidade + status
GET {{baseUrl}}/exames/exames?search=hemograma&tipo_exame_id={{tipo_exame_id}}&especialidade_id={{especialidade_id}}&status=ativo&page=1&limit=10
Authorization: Bearer {{token}}

###

### ============================================
### ROTAS ESPECÍFICAS
### ============================================

### Buscar exames por tipo (rota dedicada)
GET {{baseUrl}}/exames/exames/tipo/{{tipo_exame_id}}
Authorization: Bearer {{token}}

###

### Buscar exames por laboratório de apoio
GET {{baseUrl}}/exames/exames/laboratorio/{{laboratorio_id}}
Authorization: Bearer {{token}}

###

### Buscar exames por nome (pesquisa - rota dedicada)
GET {{baseUrl}}/exames/exames/buscar/hemograma
Authorization: Bearer {{token}}

###

### Listar exames que necessitam preparo
GET {{baseUrl}}/exames/exames/com-preparo
Authorization: Bearer {{token}}

###

### Listar exames urgentes (ordenados por prioridade)
GET {{baseUrl}}/exames/exames/urgentes
Authorization: Bearer {{token}}

###

### Buscar exames por códigos padronizados (TUSS)
GET {{baseUrl}}/exames/exames/codigos?tuss=40304361
Authorization: Bearer {{token}}

###

### Buscar exames por códigos padronizados (AMB)
GET {{baseUrl}}/exames/exames/codigos?amb=28.01.001-2
Authorization: Bearer {{token}}

###

### Buscar exames por códigos padronizados (SUS)
GET {{baseUrl}}/exames/exames/codigos?sus=0202010503
Authorization: Bearer {{token}}

###

### Buscar exame por código interno
GET {{baseUrl}}/exames/exames/codigo/HEMOG001
Authorization: Bearer {{token}}

###

### ============================================
### BUSCAR POR ID
### ============================================

### Buscar exame por ID
GET {{baseUrl}}/exames/exames/{{exameId}}
Authorization: Bearer {{token}}

### Expected Response
# Status: 200 OK
# {
#   "message": "Exame encontrado com sucesso",
#   "data": {
#     "id": "uuid",
#     "codigo_interno": "HEMOG001",
#     "nome": "Hemograma Completo",
#     "status": "ativo",
#     ...
#   }
# }

###

### ============================================
### DELETAR / DESATIVAR EXAME
### ============================================

### Desativar exame (soft delete)
DELETE {{baseUrl}}/exames/exames/b7f47c45-2173-45e4-8fe6-92c638147fab
Authorization: Bearer {{token}}

### Expected Response
# Status: 200 OK
# {
#   "message": "Exame desativado com sucesso"
# }

###

### ============================================
### ATUALIZAÇÃO EM LOTE
### ============================================

### Atualizar status de múltiplos exames
PATCH {{baseUrl}}/exames/exames/status/bulk
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "ids": ["uuid1", "uuid2", "uuid3"],
  "status": "inativo"
}

### Expected Response
# Status: 200 OK
# {
#   "message": "Status dos exames atualizados com sucesso"
# }

###

### ============================================
### EXAMES EXCLUÍDOS (SOFT DELETE)
### ============================================

### Listar exames excluídos
GET {{baseUrl}}/exames/exames/excluidos/listar?page=1&limit=10
Authorization: Bearer {{token}}

### Expected Response
# Status: 200 OK
# {
#   "data": [...],
#   "meta": {
#     "page": 1,
#     "limit": 10,
#     "total": 5,
#     "totalPages": 1,
#     "hasPrevPage": false,
#     "hasNextPage": false
#   }
# }

###

### Buscar exames excluídos por nome
GET {{baseUrl}}/exames/exames/excluidos/listar?search=hemograma&page=1&limit=10
Authorization: Bearer {{token}}

###

### Restaurar exame excluído
PATCH {{baseUrl}}/exames/exames/{{exameId}}/restaurar
Authorization: Bearer {{token}}

### Expected Response
# Status: 200 OK
# {
#   "message": "Exame restaurado com sucesso",
#   "data": { ... }
# }
