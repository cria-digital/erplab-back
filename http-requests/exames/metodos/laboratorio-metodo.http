### Vincular laboratório a método
POST {{baseUrl}}/exames/laboratorios-metodos
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "laboratorioId": "207f9847-5e29-4132-9ff4-14b66a740030",
  "metodoId": "2ecb2a6a-d3bf-488c-8b8b-b9c6befb418c",
  "validado": false,
  "observacoes": "Laboratório em processo de certificação para este método"
}

### Expected Response
# Status: 201 Created
# {
#   "id": "uuid",
#   "laboratorioId": "uuid",
#   "metodoId": "uuid",
#   "validado": false,
#   "dataValidacao": null,
#   "observacoes": "Laboratório em processo de certificação...",
#   "createdAt": "2024-01-15T10:00:00.000Z",
#   "updatedAt": "2024-01-15T10:00:00.000Z"
# }

###

### Listar todos os vínculos laboratório-método
GET {{baseUrl}}/exames/laboratorios-metodos
Authorization: Bearer {{token}}

###

### Listar vínculos com paginação
GET {{baseUrl}}/exames/laboratorios-metodos?page=1&limit=10
Authorization: Bearer {{token}}

###

### Filtrar vínculos por laboratório
GET {{baseUrl}}/exames/laboratorios-metodos?laboratorioId={{laboratorioId}}
Authorization: Bearer {{token}}

###

### Filtrar vínculos por método
GET {{baseUrl}}/exames/laboratorios-metodos?metodoId={{metodoId}}
Authorization: Bearer {{token}}

###

### Filtrar vínculos validados
GET {{baseUrl}}/exames/laboratorios-metodos?validado=true
Authorization: Bearer {{token}}

###

### Filtrar vínculos não validados
GET {{baseUrl}}/exames/laboratorios-metodos?validado=false
Authorization: Bearer {{token}}

###

### Listar apenas vínculos validados
GET {{baseUrl}}/exames/laboratorios-metodos/validados
Authorization: Bearer {{token}}

###

### Listar vínculos validados de um laboratório específico
GET {{baseUrl}}/exames/laboratorios-metodos/validados?laboratorioId={{laboratorioId}}
Authorization: Bearer {{token}}

###

### Buscar métodos de um laboratório
GET {{baseUrl}}/exames/laboratorios-metodos/laboratorio/{{laboratorioId}}
Authorization: Bearer {{token}}

###

### Buscar laboratórios que utilizam um método
GET {{baseUrl}}/exames/laboratorios-metodos/metodo/{{metodoId}}
Authorization: Bearer {{token}}

###

### Obter estatísticas gerais
GET {{baseUrl}}/exames/laboratorios-metodos/statistics
Authorization: Bearer {{token}}

### Expected Response
# Status: 200 OK
# {
#   "total": 10,
#   "validados": 6,
#   "pendentes": 4,
#   "percentualValidacao": 60.00
# }

###

### Obter estatísticas de um laboratório
GET {{baseUrl}}/exames/laboratorios-metodos/statistics?laboratorioId={{laboratorioId}}
Authorization: Bearer {{token}}

###

### Buscar vínculo por ID
GET {{baseUrl}}/exames/laboratorios-metodos/{{vinculoId}}
Authorization: Bearer {{token}}

###

### Atualizar vínculo
PATCH {{baseUrl}}/exames/laboratorios-metodos/{{vinculoId}}
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "observacoes": "Laboratório certificado em 2024",
  "validado": true,
  "dataValidacao": "2024-01-15T10:00:00Z"
}

###

### Validar vínculo laboratório-método
PATCH {{baseUrl}}/exames/laboratorios-metodos/{{vinculoId}}/validar
Authorization: Bearer {{token}}

### Expected Response
# Status: 200 OK
# {
#   "id": "uuid",
#   "validado": true,
#   "dataValidacao": "2024-01-15T10:00:00.000Z",
#   ...
# }

###

### Invalidar vínculo laboratório-método
PATCH {{baseUrl}}/exames/laboratorios-metodos/{{vinculoId}}/invalidar
Authorization: Bearer {{token}}

### Expected Response
# Status: 200 OK
# {
#   "id": "uuid",
#   "validado": false,
#   "dataValidacao": null,
#   ...
# }

###

### Remover vínculo
DELETE {{baseUrl}}/exames/laboratorios-metodos/{{vinculoId}}
Authorization: Bearer {{token}}

### Expected Response
# Status: 204 No Content

###

### Tentar criar vínculo duplicado (deve falhar)
POST {{baseUrl}}/exames/laboratorios-metodos
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "laboratorioId": "{{laboratorioId}}",
  "metodoId": "{{metodoId}}"
}

### Expected Response
# Status: 409 Conflict
# {
#   "statusCode": 409,
#   "message": "Este laboratório já está vinculado a este método",
#   "error": "Conflict"
# }