### Atualizar equipamento completo
PATCH {{baseUrl}}/configuracoes/estrutura/equipamentos/550e8400-e29b-41d4-a716-446655440000
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "nome": "Analisador Hematologico BC-6800 Plus",
  "modelo": "BC-6800 Plus",
  "salaId": "{{salaId}}",
  "situacao": "ativo",
  "dataUltimaManutencao": "2024-10-15",
  "dataProximaManutencao": "2025-04-15",
  "observacoes": "Equipamento atualizado com novo software v3.5 - performance aprimorada"
}

### Expected Response
# Status: 200 OK
# {
#   "id": "550e8400-e29b-41d4-a716-446655440000",
#   "nome": "Analisador Hematologico BC-6800 Plus",
#   "modelo": "BC-6800 Plus",
#   "situacao": "ativo",
#   "atualizadoEm": "2025-10-09T15:30:00.000Z"
# }

###

### Atualizar situacao - Colocar em manutencao
PATCH {{baseUrl}}/configuracoes/estrutura/equipamentos/550e8400-e29b-41d4-a716-446655440000/situacao
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "situacao": "manutencao"
}

###

### Atualizar situacao - Retornar como ativo
PATCH {{baseUrl}}/configuracoes/estrutura/equipamentos/550e8400-e29b-41d4-a716-446655440000/situacao
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "situacao": "ativo"
}

###

### Atualizar situacao - Marcar como inativo
PATCH {{baseUrl}}/configuracoes/estrutura/equipamentos/550e8400-e29b-41d4-a716-446655440000/situacao
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "situacao": "inativo"
}

###

### Atualizar situacao - Marcar como descartado
PATCH {{baseUrl}}/configuracoes/estrutura/equipamentos/550e8400-e29b-41d4-a716-446655440000/situacao
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "situacao": "descartado"
}

###

### Atualizar datas de manutencao
PATCH {{baseUrl}}/configuracoes/estrutura/equipamentos/550e8400-e29b-41d4-a716-446655440000
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "dataUltimaManutencao": "2024-10-20",
  "dataProximaManutencao": "2025-04-20",
  "periodicidadeManutencaoDias": 180,
  "observacoes": "Manutencao preventiva trimestral realizada"
}

###

### Atualizar setor e sala
PATCH {{baseUrl}}/configuracoes/estrutura/equipamentos/550e8400-e29b-41d4-a716-446655440000
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "setorId": "{{novoSetorId}}",
  "salaId": "{{novaSalaId}}",
  "observacoes": "Equipamento transferido para Setor de Hematologia - Sala 203"
}

###

### Atualizar apenas observacoes
PATCH {{baseUrl}}/configuracoes/estrutura/equipamentos/550e8400-e29b-41d4-a716-446655440000
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "observacoes": "Observacao importante: Equipamento operando perfeitamente. Ultimo resultado de controle de qualidade: 99.8% de acuracia"
}

###

### Atualizar fornecedor
PATCH {{baseUrl}}/configuracoes/estrutura/equipamentos/550e8400-e29b-41d4-a716-446655440000
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "fornecedorId": "{{novoFornecedorId}}",
  "observacoes": "Fornecedor alterado para novo representante autorizado Mindray"
}

###

### Remover sala (equipamento sem sala especifica)
PATCH {{baseUrl}}/configuracoes/estrutura/equipamentos/550e8400-e29b-41d4-a716-446655440000
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "salaId": null,
  "observacoes": "Equipamento removido da sala - em transito para nova localizacao"
}

###

### Atualizar modelo (caso de upgrade)
PATCH {{baseUrl}}/configuracoes/estrutura/equipamentos/550e8400-e29b-41d4-a716-446655440000
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "modelo": "BC-6800 Elite",
  "observacoes": "Modelo atualizado apos upgrade de hardware - agora versao Elite com modulo adicional"
}

###

### Alternar status ativo/inativo
PATCH {{baseUrl}}/configuracoes/estrutura/equipamentos/550e8400-e29b-41d4-a716-446655440000/toggle-ativo
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

###

### Atualizar equipamento inexistente (deve retornar 404)
PATCH {{baseUrl}}/configuracoes/estrutura/equipamentos/00000000-0000-0000-0000-000000000000
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "nome": "Teste"
}

### Expected Response
# Status: 404 Not Found
# {
#   "statusCode": 404,
#   "message": "Equipamento com ID 00000000-0000-0000-0000-000000000000 n√£o encontrado",
#   "error": "Not Found"
# }

###

### Deletar equipamento
DELETE {{baseUrl}}/configuracoes/estrutura/equipamentos/550e8400-e29b-41d4-a716-446655440000
Authorization: Bearer {{token}}

### Expected Response
# Status: 200 OK
# {
#   "message": "Equipamento removido com sucesso"
# }

###
