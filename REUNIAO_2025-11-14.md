# ReuniÃ£o de Acompanhamento - 14/11/2025

**Participantes:**

- Diego (Backend)
- Herverson (Frontend)
- AndrÃ© (Cliente/Product Owner)

---

## ğŸ“Š Status Atual do Projeto

### âœ… ConcluÃ­do

#### 1. Campos de FormulÃ¡rio (Backend + Frontend)

- âœ… CRUD completo implementado
- âœ… Sistema de exclusÃ£o e recriaÃ§Ã£o funcionando
- âœ… EdiÃ§Ã£o de alternativas implementada
- âœ… AtualizaÃ§Ã£o em tempo real
- âœ… IntegraÃ§Ã£o backend/frontend completa

#### 2. Cadastro de Empresas (Frontend - Tela 1/4)

**AbrangÃªncia:** ConvÃªnio, LaboratÃ³rio, Telemedicina, Fornecedor, Prestador de ServiÃ§o

- âœ… InformaÃ§Ãµes gerais implementadas
- âœ… Busca automÃ¡tica por CNPJ (integraÃ§Ã£o com Receita Federal)
- âœ… Busca automÃ¡tica por CEP (ViaCEP)
- âœ… NavegaÃ§Ã£o entre tipos de empresa mantendo dados preenchidos
- âœ… ValidaÃ§Ã£o de campos
- âœ… Dados bancÃ¡rios (agÃªncia, conta, tipo de conta)

**Telas pendentes:** IntegraÃ§Ã£o, Vincular Exames, InformaÃ§Ãµes EspecÃ­ficas (3/4)

#### 3. MÃ©todos de Exame (Frontend - 70%)

- âœ… Listagem implementada
- âœ… Busca funcionando
- âœ… Filtros (ativos/inativos)
- âœ… VinculaÃ§Ã£o com laboratÃ³rios
- â³ Cadastro, ediÃ§Ã£o e exclusÃ£o (em andamento)

#### 4. CorreÃ§Ãµes de Deploy

- âœ… Backend corrigido durante a reuniÃ£o
- âœ… Sistema de autenticaÃ§Ã£o funcionando
- âœ… Login validado e testado
- âœ… Migration idempotente implementada

---

## ğŸ”§ Ajustes NecessÃ¡rios Identificados

### 1. Campo Nome Fantasia (CRÃTICO)

**ResponsÃ¡vel:** Diego (Backend)

**Problema:**

- Campo atualmente nÃ£o obrigatÃ³rio
- LaboratÃ³rios aparecem sem nome nas listagens (MÃ©todos, Kits, etc)

**SoluÃ§Ã£o:**

```typescript
// Tornar obrigatÃ³rio em:
// - src/modules/cadastros/empresas/dto/create-empresa.dto.ts
@IsNotEmpty()
@IsString()
nomeFantasia: string; // Remover @IsOptional()
```

**Impacto:** Alto - afeta todas as listagens de empresas

---

### 2. MÃ¡scara de Campos de Impostos

**ResponsÃ¡vel:** Herverson (Frontend)

**Requisito:**

- Sempre exibir 2 casas decimais
- Exemplos:
  - Digitar "2" â†’ exibir "2,00"
  - Digitar "0.65" â†’ exibir "0,65"
  - Digitar "1.5" â†’ exibir "1,50"

**Aplicar em:**

- IRPJ, CSLL, PIS, COFINS, ISS
- Todos os campos de percentual/valor monetÃ¡rio

**SoluÃ§Ã£o sugerida:**

```javascript
// Usar biblioteca de mÃ¡scara ou criar funÃ§Ã£o
function formatarDecimal(valor) {
  return parseFloat(valor).toFixed(2);
}
```

---

### 3. Tipos de Pagamento (CustomizÃ¡vel)

**ResponsÃ¡vel:** Diego (Backend)

**DecisÃ£o:**

- Criar novo campo customizÃ¡vel "Tipos de Pagamento"
- Motivo: Lista atual incompleta para todas as necessidades

**Tarefas:**

1. Criar campo em `campos_formulario`
2. Adicionar alternativas padrÃ£o:
   - Boleto
   - PIX
   - TED
   - DOC
   - CartÃ£o de CrÃ©dito
   - CartÃ£o de DÃ©bito
   - Dinheiro
3. Permitir adiÃ§Ã£o de novos tipos

---

### 4. Kits de Exames (SimplificaÃ§Ã£o)

**ResponsÃ¡vel:** Diego (Backend)

**DecisÃ£o:**

- âŒ Remover campo "Tipo de Kit"
- âœ… Manter apenas:
  - Unidades Associadas
  - ConfiguraÃ§Ã£o de Uso
  - Vincular Exames (combo de exames)

**Motivo:**

- Kit sempre serÃ¡ conjunto de exames
- Campo "Tipo" nÃ£o agrega valor

**Ajustes na API:**

```typescript
// Remover de CreateKitDto
// tipoKit: string; âŒ

// Manter apenas
unidadesAssociadas: string[];
configuracaoUso: string;
exames: string[]; // IDs dos exames
```

---

### 5. Cadastro de Exames (Campo Faltante)

**ResponsÃ¡vel:** Diego (Backend)

**PendÃªncia:**

- Falta 1 campo customizado na lista
- AndrÃ© enviarÃ¡ detalhes posteriormente

**Status:** Aguardando especificaÃ§Ã£o

---

### 6. UsuÃ¡rios - ValidaÃ§Ã£o de Senha

**ResponsÃ¡vel:** Herverson (Frontend)

**Problema:**

- Mensagem "senha deve ser diferente da anterior" em novo cadastro
- NÃ£o faz sentido para primeiro cadastro

**SoluÃ§Ã£o:**

```javascript
// Se for novo cadastro (nÃ£o ediÃ§Ã£o)
if (isNovoUsuario) {
  validacao: 'senha deve ser igual Ã  confirmaÃ§Ã£o';
} else {
  validacao: 'senha deve ser diferente da anterior';
}
```

---

## ğŸ“‹ PrÃ³ximos Passos

### ğŸ¯ Esta Semana (14/11 - 21/11)

#### Herverson (Frontend)

- [ ] Finalizar MÃ©todos
  - [ ] Implementar cadastro
  - [ ] Implementar ediÃ§Ã£o
  - [ ] Implementar exclusÃ£o
- [ ] Implementar Kits completo
  - [ ] Remover campo "Tipo de Kit"
  - [ ] Implementar vinculaÃ§Ã£o de exames
  - [ ] Unidades associadas
- [ ] Aplicar mÃ¡scara nos campos de impostos
- [ ] Corrigir validaÃ§Ã£o de senha em UsuÃ¡rios
- [ ] Ajustes gerais no cadastro de Empresas

#### Diego (Backend)

- [ ] **CRÃTICO:** Tornar Nome Fantasia obrigatÃ³rio
- [ ] Criar campo customizÃ¡vel "Tipos de Pagamento"
- [ ] Ajustar API de Kits (remover campo Tipo)
- [ ] Aguardar especificaÃ§Ã£o do campo faltante em Exames
- [ ] Revisar API de UsuÃ¡rios (validaÃ§Ã£o primeiro cadastro)
- [ ] Revisar e validar API de Kits

---

### ğŸ¯ PrÃ³xima Semana (21/11 - 28/11)

**Meta:** Finalizar mÃ³dulos **Principais** e **Empresas**

#### MÃ³dulo Principais

- âœ… MÃ©todos
- âœ… Kits
- â³ UsuÃ¡rios (revisar perfis/permissÃµes)
- â³ Outros campos pendentes

#### MÃ³dulo Empresas

**Cadastro Geral (Tela 1):** âœ… ConcluÃ­do

**Telas EspecÃ­ficas por Tipo (Telas 2-4):**

1. **ConvÃªnio**
   - [ ] InformaÃ§Ãµes EspecÃ­ficas
   - [ ] IntegraÃ§Ãµes
   - [ ] ConfiguraÃ§Ãµes de Faturamento

2. **LaboratÃ³rio de Apoio**
   - [ ] IntegraÃ§Ã£o
   - [ ] Vincular Exames
   - [ ] ConfiguraÃ§Ãµes de Repasse

3. **Telemedicina**
   - [ ] InformaÃ§Ãµes EspecÃ­ficas
   - [ ] IntegraÃ§Ãµes
   - [ ] Plataforma

4. **Fornecedor**
   - [ ] InformaÃ§Ãµes EspecÃ­ficas
   - [ ] CatÃ¡logo de Produtos

5. **Prestador de ServiÃ§o**
   - [ ] InformaÃ§Ãµes EspecÃ­ficas
   - [ ] ServiÃ§os Oferecidos

---

## ğŸ“… PrevisÃ£o de ConclusÃ£o

### Cadastros Gerais Completos

**Prazo estimado:** ~1 mÃªs (atÃ© 14/12/2025)

**MÃ³dulos restantes apÃ³s Principais/Empresas:**

- Estrutura FÃ­sica
- DocumentaÃ§Ã£o
- Financeiro
- Outros

### MÃ³dulos Complexos (PrevisÃ£o Futura)

#### 1. Atendimento (Fila de Atendimento)

- **Complexidade:** Alta
- **CaracterÃ­sticas:**
  - Muitas regras de negÃ³cio
  - Fluxo de estados complexo
  - IntegraÃ§Ãµes em tempo real

#### 2. Contabilidade/Financeiro

- **Complexidade:** Muito Alta
- **CaracterÃ­sticas:**
  - Grande quantidade de telas
  - Regras de negÃ³cio complexas
  - CÃ¡lculos financeiros
  - RelatÃ³rios detalhados
- **âš ï¸ RecomendaÃ§Ã£o:** Trabalho em conjunto (4 mÃ£os)

---

## ğŸ’¡ ObservaÃ§Ãµes Importantes

### Progresso Acelerando

âœ… Equipe entendendo melhor a arquitetura
âœ… Componentes reutilizÃ¡veis criados
âœ… PadrÃµes estabelecidos
âœ… ComunicaÃ§Ã£o melhorada

### InterdependÃªncia de MÃ³dulos

- Cadastros se comunicam entre si
- Exemplo 1: Mudar tipo de empresa atualiza menu lateral
- Exemplo 2: Cancelar cadastro mantÃ©m contexto correto
- Exemplo 3: Nome Fantasia usado em mÃºltiplas listagens

### Busca AutomÃ¡tica Implementada

**CNPJ:**

- PrÃ©-preenche dados da Receita Federal
- Aplicar em todos os formulÃ¡rios com CNPJ

**CEP:**

- PrÃ©-preenche endereÃ§o via ViaCEP
- Aplicar em todos os formulÃ¡rios com CEP

**PadrÃ£o:**

```javascript
// Ao perder foco do campo
onBlur={() => {
  if (cnpj.length === 14) {
    buscarDadosReceita(cnpj);
  }
}}
```

### ValidaÃ§Ã£o em Camadas

1. **Frontend:** ValidaÃ§Ã£o inline (UX)
2. **Backend:** ValidaÃ§Ã£o definitiva (SeguranÃ§a)

---

## ğŸš€ DecisÃµes Arquiteturais Confirmadas

### Cadastro de Empresas

- âœ… 1Âª Tela: InformaÃ§Ãµes Gerais (compartilhada)
- âœ… 2Âª-4Âª Tela: EspecÃ­ficas por tipo
- âœ… NavegaÃ§Ã£o mantÃ©m dados preenchidos
- âœ… Cancelar volta ao contexto correto

### Campos CustomizÃ¡veis

- âœ… Sistema funcionando
- âœ… Permite adicionar novos campos
- âœ… Usado para: Tipos de Pagamento, etc

### Relacionamentos

- âœ… LaboratÃ³rios vinculados a MÃ©todos
- âœ… Kits vinculados a Exames
- âœ… Empresas vinculadas a Unidades

---

## ğŸ“… PrÃ³xima ReuniÃ£o

**Data:** Sexta-feira, 21/11/2025
**HorÃ¡rio:** 14h (mesmo horÃ¡rio)

**Pauta:**

- Verificar progresso de MÃ©todos e Kits
- Validar telas especÃ­ficas de Empresas
- Revisar pendÃªncias desta semana
- Planejar prÃ³ximos mÃ³dulos

---

## âœ… Action Items (Resumo)

### Prioridade CRÃTICA (Bloqueia outras tarefas)

1. âš ï¸ Tornar Nome Fantasia obrigatÃ³rio (Diego)

### Prioridade ALTA (Esta semana)

2. Finalizar MÃ©todos (Herverson)
3. Implementar Kits (Herverson)
4. Ajustar API de Kits (Diego)
5. Criar campo Tipos de Pagamento (Diego)

### Prioridade MÃ‰DIA (Esta semana)

6. MÃ¡scara de impostos (Herverson)
7. ValidaÃ§Ã£o de senha (Herverson)
8. Revisar API de UsuÃ¡rios (Diego)

### Aguardando EspecificaÃ§Ã£o

9. Campo customizado faltante em Exames (AndrÃ© â†’ Diego)

---

**Documento gerado em:** 14/11/2025
**PrÃ³xima atualizaÃ§Ã£o:** 21/11/2025
